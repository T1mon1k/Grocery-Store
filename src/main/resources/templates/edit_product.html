<!DOCTYPE html>
<html lang="uk" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Редагування товару</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div th:replace="~{fragments/header :: siteHeader}"></div>
<div class="container">
    <div class="form-card">
        <h2>Редагування товару</h2>

        <form th:action="@{/products/edit/{id}(id=${product.id})}" method="post" class="edit-form">
            <input type="hidden" name="_method" value="put" />

            <div class="form-group">
                <label for="name">Назва:</label>
                <input id="name" type="text" name="name" th:value="${product.name}" required>
            </div>

            <div class="form-group">
                <label for="description">Опис:</label>
                <textarea id="description" name="description" rows="3" th:text="${product.description}"></textarea>
            </div>

            <div class="form-group">
                <label for="price">Ціна (₴):</label>
                <input id="price" type="number" name="price" step="0.01" th:value="${product.price}" required>
            </div>

            <div class="form-group">
                <label for="priceType">Ціна за:</label>
                <select id="priceType" name="priceType" required>
                    <option value="PER_UNIT" th:selected="${product.priceType == 'PER_UNIT'}">за штуку</option>
                    <option value="PER_KG" th:selected="${product.priceType == 'PER_KG'}">за кілограм</option>
                </select>
            </div>

            <div class="form-group">
                <label for="category">Категорія:</label>
                <select id="category" name="categoryId">
                    <option th:each="c : ${categories}"
                            th:value="${c.id}"
                            th:text="${c.name}">Категорія</option>
                </select>
            </div>

            <div class="form-group">
                <label for="weight">Вага (кг):</label>
                <input id="weight" type="number" name="weight" step="0.01" min="0" th:value="${product.weight}">
            </div>

            <div class="form-group">
                <label for="volumeInLiters">Обʼєм (л):</label>
                <input id="volumeInLiters" type="number" name="volumeInLiters" step="0.01" min="0" th:value="${product.volumeInLiters}">
            </div>

            <div class="form-group">
                <label for="originCountry">Країна:</label>
                <input id="originCountry" type="text" name="originCountry" th:value="${product.originCountry}">
            </div>

            <div class="form-group">
                <label for="composition">Склад:</label>
                <input id="composition" type="text" name="composition" th:value="${product.composition}">
            </div>

            <div class="form-group">
                <label for="stock">Кількість на складі:</label>
                <input id="stock" type="number" name="stock" min="0" th:value="${product.stock}" required>
            </div>

            <div class="form-group">
                <label for="brand">Бренд:</label>
                <input id="brand" type="text" name="brand" th:value="${product.brand}">
            </div>

            <div class="form-buttons">
                <button type="submit" class="btn btn-primary">Зберегти</button>
                <a th:href="@{/products/{id}(id=${product.id})}" class="btn btn-outline">Скасувати</a>
            </div>
        </form>

    </div>
</div>
</body>
</html>
